############### global settings ###############
set temperature 298
# Simplified for WESTPA segment
set inputname parent
set outputname seg

############### basic input ###############
structure       ./norA_inopen.psf
coordinates     ./norA_inopen.pdb

# Force-Field Parameters
set toppar_dict "toppar"
paraTypeCharmm      on
parameters          ${toppar_dict}/glc.prm
parameters          ${toppar_dict}/cye.prm
parameters          ${toppar_dict}/par_all36m_prot.prm
parameters          ${toppar_dict}/par_all36_carb.prm
parameters          ${toppar_dict}/par_all36_na.prm
parameters          ${toppar_dict}/par_all36_cgenff.prm
parameters          ${toppar_dict}/par_interface.prm
parameters          ${toppar_dict}/par_all36_lipid.prm
parameters          ${toppar_dict}/cam.str
parameters          ${toppar_dict}/toppar_all36_carb_glycolipid.str
parameters          ${toppar_dict}/toppar_all36_carb_glycopeptide.str
parameters          ${toppar_dict}/toppar_all36_carb_imlab.str
parameters          ${toppar_dict}/toppar_all36_label_fluorophore.str
parameters          ${toppar_dict}/toppar_all36_label_spin.str
parameters          ${toppar_dict}/toppar_all36_lipid_archaeal.str
parameters          ${toppar_dict}/toppar_all36_lipid_bacterial.str
parameters          ${toppar_dict}/toppar_all36_lipid_cardiolipin.str
parameters          ${toppar_dict}/toppar_all36_lipid_cholesterol.str
parameters          ${toppar_dict}/toppar_all36_lipid_dag.str
parameters          ${toppar_dict}/toppar_all36_lipid_detergent.str
parameters          ${toppar_dict}/toppar_all36_lipid_ether.str
parameters          ${toppar_dict}/toppar_all36_lipid_hmmm.str
parameters          ${toppar_dict}/toppar_all36_lipid_inositol.str
parameters          ${toppar_dict}/toppar_all36_lipid_lnp.str
parameters          ${toppar_dict}/toppar_all36_lipid_lps.str
parameters          ${toppar_dict}/toppar_all36_lipid_miscellaneous.str
parameters          ${toppar_dict}/toppar_all36_lipid_model.str
parameters          ${toppar_dict}/toppar_all36_lipid_mycobacterial.str
parameters          ${toppar_dict}/toppar_all36_lipid_oxidized.str
parameters          ${toppar_dict}/toppar_all36_lipid_prot.str
parameters          ${toppar_dict}/toppar_all36_lipid_sphingo.str
parameters          ${toppar_dict}/toppar_all36_lipid_tag.str
parameters          ${toppar_dict}/toppar_all36_lipid_yeast.str
parameters          ${toppar_dict}/toppar_all36_moreions.str
parameters          ${toppar_dict}/toppar_all36_na_nad_ppi.str
parameters          ${toppar_dict}/toppar_all36_nano_lig_patch.str
parameters          ${toppar_dict}/toppar_all36_nano_lig.str
parameters          ${toppar_dict}/toppar_all36_na_rna_modified.str
parameters          ${toppar_dict}/toppar_all36_polymer_solvent.str
parameters          ${toppar_dict}/toppar_all36_prot_arg0.str
parameters          ${toppar_dict}/toppar_all36_prot_c36m_d_aminoacids.str
parameters          ${toppar_dict}/toppar_all36_prot_fluoro_alkanes.str
parameters          ${toppar_dict}/toppar_all36_prot_heme.str
parameters          ${toppar_dict}/toppar_all36_prot_model.str
parameters          ${toppar_dict}/toppar_all36_prot_modify_res.str
parameters          ${toppar_dict}/toppar_all36_prot_na_combined.str
parameters          ${toppar_dict}/toppar_all36_prot_retinol.str
parameters          ${toppar_dict}/toppar_all36_synthetic_polymer_patch.str
parameters          ${toppar_dict}/toppar_all36_synthetic_polymer.str
parameters          ${toppar_dict}/toppar_dum_noble_gases.str
parameters          ${toppar_dict}/toppar_ions_won.str
parameters          ${toppar_dict}/toppar_water_ions.str

1-4scaling          1.0
exclude         scaled1-4

############# restart input ###############
# Since runseg.sh links parent.coor/xsc/vel, we use them directly
bincoordinates  $inputname.coor
extendedsystem  $inputname.xsc
binvelocities   $inputname.vel
firsttimestep   0 

########### output options ################
outputname              $outputname
binaryoutput            yes
binaryrestart           yes
outputEnergies          500
outputTiming            1000
restartfreq             10000
dcdfreq                 500

########### simulation options ############
dielectric              1.0
switching               on
vdwForceSwitching       on
LJCorrection            on
switchdist              10
cutoff                  12
pairlistdist            14
rigidbonds              all
margin                  8
timestep                2
stepspercycle           200
fullElectFrequency      2
PME                     on
PMEGridSpacing          1.0

############# Thermostat ##################
langevin                on
langevinTemp            $temperature
langevinHydrogen        no
langevinDamping         1.0

######## Constant Pressure Control ########
#LangevinPiston                    on
#LangevinPistonTarget              1.01325
#LangevinPistonPeriod              200
#LangevinPistonDecay               100
#LangevinPistonTemp                $temperature
#useGroupPressure                  yes
#useConstantRatio                  yes
#useFlexibleCell                   yes

#GPUresident on

# 20ps
run 50000
